# jungpu8
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.0 --num_models=2 --augmentation=True > ../cifar10_resnet_EE_DPP_models2_lamda2p0_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.3 --num_models=2 --augmentation=True > ../cifar10_resnet_EE_DPP_models2_lamda2p0_logdetlamda0p3_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.7 --num_models=2 --augmentation=True > ../cifar10_resnet_EE_DPP_models2_lamda2p0_logdetlamda0p7_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=1.0 --num_models=2 --augmentation=True > ../cifar10_resnet_EE_DPP_models2_lamda2p0_logdetlamda1p0_True.out 2>&1 &


# jungpu7
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda2p0_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.3 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda2p0_logdetlamda0p3_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.7 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda2p0_logdetlamda0p7_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=1.0 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda2p0_logdetlamda1p0_True.out 2>&1 &


# jungpu6
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.0 --num_models=4 --augmentation=True > ../cifar10_resnet_EE_DPP_models4_lamda2p0_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.3 --num_models=4 --augmentation=True > ../cifar10_resnet_EE_DPP_models4_lamda2p0_logdetlamda0p3_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.7 --num_models=4 --augmentation=True > ../cifar10_resnet_EE_DPP_models4_lamda2p0_logdetlamda0p7_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=1.0 --num_models=4 --augmentation=True > ../cifar10_resnet_EE_DPP_models4_lamda2p0_logdetlamda1p0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda2p0_logdetlamda0p5_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=1.0 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda2p0_logdetlamda1p0_True.out 2>&1 &


# jungpu6
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP.py --lamda=0.0 --log_det_lamda=0.0 --num_models=2 --augmentation=True > ../cifar10_resnet_EE_DPP_models2_lamda0_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda0_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=0.0 --log_det_lamda=0.0 --num_models=4 --augmentation=True > ../cifar10_resnet_EE_DPP_models4_lamda0_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=0.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda0_logdetlamda0p5_True.out 2>&1 &

#jungpu5
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda1p0_logdetlamda0p5_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP.py --lamda=1.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda1p0_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=3.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True > ../cifar10_resnet_EE_DPP_models5_lamda3p0_logdetlamda0p5_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP.py --lamda=3.0 --log_det_lamda=1.0 --num_models=5 --augmentation=True > ../cifar10_resnet_EE_DPP_models5_lamda3p0_logdetlamda1p0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=4 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True > ../cifar10_resnet_EE_DPP_models5_lamda2p0_logdetlamda0p5_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=5 nohup python -u cifar10_resnet_EE_DPP.py --lamda=0.0 --log_det_lamda=0.0 --num_models=5 --augmentation=True > ../cifar10_resnet_EE_DPP_models5_lamda0_logdetlamda0_True.out 2>&1 &



## baseline with label smoothing
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --label_smooth=0.6 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda0_logdetlamda0_True_labelsmooth0p6.out 2>&1 &



#Plot figure
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP.py --lamda=1.4 --log_det_lamda=0.0 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda1p4_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP.py --lamda=1.4 --log_det_lamda=0.3 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda1p4_logdetlamda0p3_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=0.0 --log_det_lamda=0.3 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_models3_lamda0_logdetlamda0p3_True.out 2>&1 &



# Same as original paper's training setting on CIFAR-10, totally 160epoch
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_SameAsPaper_models3_lamda1p0_logdetlamda0p5_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_SameAsPaper_models3_lamda2p0_logdetlamda0p5_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_SameAsPaper_models3_lamda0_logdetlamda0_True.out 2>&1 &

CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP.py --lamda=1.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True > ../cifar10_resnet_EE_DPP_SameAsPaper_models3_lamda1p0_logdetlamda0_True.out 2>&1 &









# Eval
CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval.py --lamda=2.0 --log_det_lamda=0.0 --num_models=2 --augmentation=True --epoch=139

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval.py --lamda=2.0 --log_det_lamda=0.3 --num_models=2 --augmentation=True --epoch=153

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval.py --lamda=2.0 --log_det_lamda=0.7 --num_models=2 --augmentation=True --epoch=194

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval.py --lamda=2.0 --log_det_lamda=0.3 --num_models=4 --augmentation=True --epoch=170

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139




# Nor acc eval
CUDA_VISIBLE_DEVICES=1 python cifar10_resnet_EE_DPP-eval_nor_acc.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval_nor_acc.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-eval_nor_acc.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139

CUDA_VISIBLE_DEVICES=2 python cifar10_resnet_EE_DPP-eval_nor_acc.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157





#Adv ensemble acc (noniterative)
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --attack_method=DeepFool > adv_ensemble_acc_DeepFool_model3_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139 --attack_method=DeepFool > adv_ensemble_acc_DeepFool_model3_lamda0_loglamda0.out 2>&1 &

CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --attack_method=CarliniWagnerL2 > 1000steps_adv_ensemble_acc_CarliniWagnerL2_model3_lamda2p0_loglamda0p5_CWconstant0p1.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139 --attack_method=CarliniWagnerL2 > 1000steps_adv_ensemble_acc_CarliniWagnerL2_model3_lamda0_loglamda0_CWconstant0p1.out 2>&1 &
CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157 --attack_method=CarliniWagnerL2 > 1000steps_adv_ensemble_acc_CarliniWagnerL2_model3_lamda2p0_loglamda0_CWconstant0p1.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=146 --label_smooth=0.6 --attack_method=CarliniWagnerL2 > adv_ensemble_acc_CarliniWagnerL2_model3_lamda0_loglamda0_ls0p6_CWconstant0p001.out 2>&1 &
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True --epoch=167 --attack_method=CarliniWagnerL2 > 1000steps_adv_ensemble_acc_CarliniWagnerL2_model5_lamda2p0_loglamda0p5_CWconstant0p01.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0 --log_det_lamda=0 --num_models=5 --augmentation=True --epoch=163 --attack_method=CarliniWagnerL2 > 1000steps_adv_ensemble_acc_CarliniWagnerL2_model5_lamda0_loglamda0_CWconstant0p01.out 2>&1 &


CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --attack_method=ElasticNetMethod > 1000steps_adv_ensemble_acc_ElasticNetMethod_model3_lamda2p0_loglamda0p5_constant1p0_beta0p01.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139 --attack_method=ElasticNetMethod > 1000steps_adv_ensemble_acc_ElasticNetMethod_model3_lamda0_loglamda0_constant1p0_beta0p01.out 2>&1 &
CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157 --attack_method=ElasticNetMethod > 1000steps_adv_ensemble_acc_ElasticNetMethod_model3_lamda2p0_loglamda0_constant1p0_beta0p01.out 2>&1 &
CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=146 --label_smooth=0.6 --attack_method=ElasticNetMethod > adv_ensemble_acc_ElasticNetMethod_model3_lamda0_loglamda0_ls0p6_constant5p0_beta0p01.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True --epoch=167 --attack_method=ElasticNetMethod > 1000steps_adv_ensemble_acc_ElasticNetMethod_model5_lamda2p0_loglamda0p5_constant1p0_beta0p01.out 2>&1 &
CUDA_VISIBLE_DEVICES=7 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0 --log_det_lamda=0 --num_models=5 --augmentation=True --epoch=163 --attack_method=ElasticNetMethod > 1000steps_adv_ensemble_acc_ElasticNetMethod_model5_lamda0_loglamda0_constant1p0_beta0p01.out 2>&1 &




CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --attack_method=SPSA > adv_ensemble_acc_SPSA_model3_lamda2p0_loglamda0p5_eps0p1.out 2>&1 &
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139 --attack_method=SPSA > adv_ensemble_acc_SPSA_model3_lamda0_loglamda0_eps0p1.out 2>&1 &
CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157 --attack_method=SPSA > adv_ensemble_acc_SPSA_model3_lamda2p0_loglamda0_eps0p1.out 2>&1 &


CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --attack_method=LBFGS > adv_ensemble_acc_LBFGS_model3_lamda2p0_loglamda0p5_LBFGSconstant1p0.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139 --attack_method=LBFGS > adv_ensemble_acc_LBFGS_model3_lamda0_loglamda0_LBFGSconstant1p0.out 2>&1 &

CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_jsma.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 > adv_ensemble_acc_JSMA_model3_lamda2p0_loglamda0p5_gamma0p05_eps0p1.out 2>&1 &
CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_jsma.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139 > adv_ensemble_acc_JSMA_model3_lamda0_loglamda0_gamma0p05_eps0p1.out 2>&1 &
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_jsma.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157 > adv_ensemble_acc_JSMA_model3_lamda2p0_loglamda0_gamma0p05_eps0p1.out 2>&1 &

CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_jsma.py --lamda=2.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True --epoch=167 > adv_ensemble_acc_JSMA_model5_lamda2p0_loglamda0p5_gamma0p05_eps0p1.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_jsma.py --lamda=0 --log_det_lamda=0 --num_models=5 --augmentation=True --epoch=163 > adv_ensemble_acc_JSMA_model5_lamda0_loglamda0_gamma0p05_eps0p1.out 2>&1 &


CUDA_VISIBLE_DEVICES=1 python cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --attack_method=SPSA
CUDA_VISIBLE_DEVICES=3 python cifar10_resnet_EE_DPP-adv_ensemble_eval_noniterative.py --lamda=0.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=139 --attack_method=SPSA



CUDA_VISIBLE_DEVICES=3 python cifar10_resnet_EE_DPP-adv_ensemble_eval_jsma.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157


#Adv ensemble acc (target)
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_target.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MadryEtAl > adv_ensemble_acc_MadryEtAl_model3_lamda2p0_loglamda0p5_target.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_target.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MomentumIterativeMethod > adv_ensemble_acc_MomentumIterativeMethod_model3_lamda2p0_loglamda0p5_target.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_target.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=BasicIterativeMethod > adv_ensemble_acc_BasicIterativeMethod_model3_lamda2p0_loglamda0p5_target.out 2>&1 &

CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_target.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MomentumIterativeMethod > MODIFIED_adv_ensemble_acc_MomentumIterativeMethod_model3_lamda2p0_loglamda0p5_target.out 2>&1 &
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_target.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MadryEtAl > MODIFIED_adv_ensemble_acc_MadryEtAl_model3_lamda2p0_loglamda0p5_target.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval_target.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=BasicIterativeMethod > MODIFIED_adv_ensemble_acc_BasicIterativeMethod_model3_lamda2p0_loglamda0p5_target.out 2>&1 &


#Adv ensemble acc
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MadryEtAl > adv_ensemble_acc_MadryEtAl_model3_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MomentumIterativeMethod > adv_ensemble_acc_MomentumIterativeMethod_model3_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=BasicIterativeMethod > adv_ensemble_acc_BasicIterativeMethod_model3_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162 --baseline_epoch=139 --attack_method=MadryEtAl > adv_ensemble_acc_MadryEtAl_model3_lamda1p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=7 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162 --baseline_epoch=139 --attack_method=MomentumIterativeMethod > adv_ensemble_acc_MomentumIterativeMethod_model3_lamda1p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=5 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162 --baseline_epoch=139 --attack_method=BasicIterativeMethod > adv_ensemble_acc_BasicIterativeMethod_model3_lamda1p0_loglamda0p5.out 2>&1 &

CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MadryEtAl > AvergeStep_MODIFIED_adv_ensemble_acc_MadryEtAl_model3_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=7 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MomentumIterativeMethod > AvergeStep_MODIFIED_adv_ensemble_acc_MomentumIterativeMethod_model3_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=BasicIterativeMethod > AvergeStep_MODIFIED_adv_ensemble_acc_BasicIterativeMethod_model3_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=FastGradientMethod > MODIFIED_adv_ensemble_acc_FastGradientMethod_model3_lamda2p0_loglamda0p5.out 2>&1 &

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adv_ensemble_eval-test.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162 --baseline_epoch=139 --attack_method=BasicIterativeMethod

CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157 --baseline_epoch=139 --attack_method=MadryEtAl > AvergeStep_MODIFIED_adv_ensemble_acc_MadryEtAl_model3_lamda2p0_loglamda0.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157 --baseline_epoch=139 --attack_method=MomentumIterativeMethod > AvergeStep_MODIFIED_adv_ensemble_acc_MomentumIterativeMethod_model3_lamda2p0_loglamda0.out 2>&1 &
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157 --baseline_epoch=139 --attack_method=BasicIterativeMethod > AvergeStep_MODIFIED_adv_ensemble_acc_BasicIterativeMethod_model3_lamda2p0_loglamda0.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.0 --num_models=3 --augmentation=True --epoch=157 --baseline_epoch=139 --attack_method=FastGradientMethod > MODIFIED_adv_ensemble_acc_FastGradientMethod_model3_lamda2p0_loglamda0.out 2>&1 &


CUDA_VISIBLE_DEVICES=5 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True --epoch=167 --baseline_epoch=163 --attack_method=FastGradientMethod > adv_ensemble_acc_FastGradientMethod_model5_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True --epoch=167 --baseline_epoch=163 --attack_method=BasicIterativeMethod > AvergeStep_adv_ensemble_acc_BasicIterativeMethod_model5_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True --epoch=167 --baseline_epoch=163 --attack_method=MadryEtAl > AvergeStep_adv_ensemble_acc_MadryEtAl_model5_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_ensemble_eval.py --lamda=2.0 --log_det_lamda=0.5 --num_models=5 --augmentation=True --epoch=167 --baseline_epoch=163 --attack_method=MomentumIterativeMethod > AvergeStep_adv_ensemble_acc_MomentumIterativeMethod_model5_lamda2p0_loglamda0p5.out 2>&1 &


#Adv transfer acc
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_transfer.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MadryEtAl --eps=0.04 > adv_transfer_acc_MadryEtAl_models3_eps0p04_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_transfer.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MomentumIterativeMethod --eps=0.04 > adv_transfer_acc_MomentumIterativeMethod_models3_eps0p04_lamda2p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_transfer.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162 --baseline_epoch=139 --attack_method=MadryEtAl --eps=0.04 > adv_transfer_acc_MadryEtAl_models3_eps0p04_lamda1p0_loglamda0p5.out 2>&1 &
CUDA_VISIBLE_DEVICES=3 nohup python -u cifar10_resnet_EE_DPP-adv_transfer.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162 --baseline_epoch=139 --attack_method=MomentumIterativeMethod --eps=0.04 > adv_transfer_acc_MomentumIterativeMethod_models3_eps0p04_lamda1p0_loglamda0p5.out 2>&1 &


#Adv transfer acc (target)
CUDA_VISIBLE_DEVICES=0 nohup python -u cifar10_resnet_EE_DPP-adv_transfer_target.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MadryEtAl --eps=0.04 > adv_transfer_acc_MadryEtAl_models3_eps0p04_lamda2p0_loglamda0p5_target.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_transfer_target.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MomentumIterativeMethod --eps=0.04 > adv_transfer_acc_MomentumIterativeMethod_models3_eps0p04_lamda2p0_loglamda0p5_target.out 2>&1 &
CUDA_VISIBLE_DEVICES=2 nohup python -u cifar10_resnet_EE_DPP-adv_transfer_target.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162 --baseline_epoch=139 --attack_method=MadryEtAl --eps=0.04 > adv_transfer_acc_MadryEtAl_models3_eps0p04_lamda1p0_loglamda0p5_target.out 2>&1 &
CUDA_VISIBLE_DEVICES=1 nohup python -u cifar10_resnet_EE_DPP-adv_transfer_target.py --lamda=1.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=162 --baseline_epoch=139 --attack_method=MomentumIterativeMethod --eps=0.04 > adv_transfer_acc_MomentumIterativeMethod_models3_eps0p04_lamda1p0_loglamda0p5_target.out 2>&1 &










#Adv Eval
CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adveval.py --lamda=0.0 --log_det_lamda=0.0 --num_models=2 --augmentation=True --epoch=153 --attack_method=MadryEtAl --eps=0.05

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adveval.py --lamda=2.0 --log_det_lamda=0.3 --num_models=2 --augmentation=True --epoch=153 --attack_method=MadryEtAl --eps=0.05

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adveval.py --lamda=2.0 --log_det_lamda=0.3 --num_models=3 --augmentation=True --epoch=180 --attack_method=MadryEtAl --eps=0.05

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adveval.py --lamda=2.0 --log_det_lamda=0.3 --num_models=4 --augmentation=True --epoch=170 --attack_method=MadryEtAl --eps=0.05



CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adveval.py --lamda=0.0 --log_det_lamda=0.0 --num_models=2 --augmentation=True --epoch=153 --attack_method=MomentumIterativeMethod --eps=0.05

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adveval.py --lamda=2.0 --log_det_lamda=0.3 --num_models=2 --augmentation=True --epoch=153 --attack_method=MomentumIterativeMethod --eps=0.05

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adveval.py --lamda=2.0 --log_det_lamda=0.3 --num_models=3 --augmentation=True --epoch=180 --attack_method=MomentumIterativeMethod --eps=0.05

CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-adveval.py --lamda=2.0 --log_det_lamda=0.3 --num_models=4 --augmentation=True --epoch=170 --attack_method=MomentumIterativeMethod --eps=0.05






#Get ensemble diversity for detection
CUDA_VISIBLE_DEVICES=1 python cifar10_resnet_EE_DPP-detection.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=FastGradientMethod --eps_=0.1
CUDA_VISIBLE_DEVICES=2 python cifar10_resnet_EE_DPP-detection.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MomentumIterativeMethod --eps_=0.01
CUDA_VISIBLE_DEVICES=1 python cifar10_resnet_EE_DPP-detection.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=MadryEtAl --eps_=0.02
CUDA_VISIBLE_DEVICES=0 python cifar10_resnet_EE_DPP-detection.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --baseline_epoch=139 --attack_method=BasicIterativeMethod --eps_=0.02

CUDA_VISIBLE_DEVICES=3 python cifar10_resnet_EE_DPP-detection-noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --attack_method=CarliniWagnerL2 --param=1.0
CUDA_VISIBLE_DEVICES=1 python cifar10_resnet_EE_DPP-detection-noniterative.py --lamda=2.0 --log_det_lamda=0.5 --num_models=3 --augmentation=True --epoch=159 --attack_method=ElasticNetMethod --param=20.0

